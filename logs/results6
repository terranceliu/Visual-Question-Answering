cifar100 goes down, vqa plateaus


begin training, multitask: True, num_users: 30, frac: 0.1, local_ep: 2
Training Model with use_gpu=True...
Epoch 0/99 - Task: cifar100
----------
User 4
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1319 Acc: 11.578 (193/1667)
Local Epoch: 2 Train Loss: 0.0869 Acc: 33.053 (551/1667)
Epoch Train Time: 0m 11s
18.207866668701172
User 26
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1293 Acc: 12.665 (211/1666)
Local Epoch: 2 Train Loss: 0.0847 Acc: 36.615 (610/1666)
Epoch Train Time: 0m 11s
18.378482818603516
User 3
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1295 Acc: 12.657 (211/1667)
Local Epoch: 2 Train Loss: 0.0824 Acc: 36.953 (616/1667)
Epoch Train Time: 0m 11s
15.11013126373291
Validation Loss: 0.0746 Acc: 41.320 (4132/10000)
Epoch Validation Time: 0m 30s
Epoch 1/99 - Task: vqa
----------
User 15
lr: 1 0.01
/home/tliu/.local/lib/python3.5/site-packages/torch/nn/modules/rnn.py:179: RuntimeWarning: RNN module weights are not part of single contiguous chunk of memory. This means they need to be compacted at every call, possibly greatly increasing memory usage. To compact weights again call flatten_parameters().
  self.dropout, self.training, self.bidirectional, self.batch_first)
/home/tliu/.local/lib/python3.5/site-packages/torch/nn/functional.py:1320: UserWarning: nn.functional.tanh is deprecated. Use torch.tanh instead.
  warnings.warn("nn.functional.tanh is deprecated. Use torch.tanh instead.")
Local Epoch: 1 Train Loss: 0.1396 Acc: 20.704 (2663/12862)
Local Epoch: 2 Train Loss: 0.0994 Acc: 26.800 (3447/12862)
Epoch Train Time: 1m 44s
3.5035548210144043
User 9
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1269 Acc: 22.961 (3075/13392)
Local Epoch: 2 Train Loss: 0.0881 Acc: 29.137 (3902/13392)
Epoch Train Time: 1m 50s
3.9150891304016113
User 10
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1273 Acc: 22.517 (3009/13363)
Local Epoch: 2 Train Loss: 0.0882 Acc: 28.953 (3869/13363)
Epoch Train Time: 1m 47s
3.8924190998077393
Validation Loss: 0.1096 Acc: 29.125 (4053/13916)
Epoch Validation Time: 1m 2s
Num_bad_epochs: 0, unconstrainedBadEpochs: 0, bestMetric: 0.7087525150905433, currentThreshold: 0.6945774647887324
Epoch 2/99 - Task: vqa
----------
User 19
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0896 Acc: 29.996 (3898/12995)
Local Epoch: 2 Train Loss: 0.0816 Acc: 32.089 (4170/12995)
Epoch Train Time: 1m 53s
7.247134685516357
User 23
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1055 Acc: 28.250 (3625/12832)
Local Epoch: 2 Train Loss: 0.0959 Acc: 30.104 (3863/12832)
Epoch Train Time: 2m 6s
6.461361408233643
User 10
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0825 Acc: 31.924 (4266/13363)
Local Epoch: 2 Train Loss: 0.0739 Acc: 35.957 (4805/13363)
Epoch Train Time: 2m 4s
4.677032947540283
Validation Loss: 0.0993 Acc: 31.573 (4382/13879)
Epoch Validation Time: 1m 9s
Num_bad_epochs: 0, unconstrainedBadEpochs: 0, bestMetric: 0.6842712010951797, currentThreshold: 0.670585777073276
Epoch 3/99 - Task: cifar100
----------
User 5
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0895 Acc: 29.574 (493/1667)
Local Epoch: 2 Train Loss: 0.0789 Acc: 33.833 (564/1667)
Epoch Train Time: 0m 11s
29.86761474609375
User 24
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0878 Acc: 31.273 (521/1666)
Local Epoch: 2 Train Loss: 0.0775 Acc: 35.714 (595/1666)
Epoch Train Time: 0m 11s
28.874988555908203
User 14
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0878 Acc: 28.554 (476/1667)
Local Epoch: 2 Train Loss: 0.0778 Acc: 35.153 (586/1667)
Epoch Train Time: 0m 11s
34.25236511230469
Validation Loss: 0.0651 Acc: 42.560 (4256/10000)
Epoch Validation Time: 0m 31s
Epoch 4/99 - Task: vqa
----------
User 0
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0506 Acc: 44.593 (6289/14103)
Local Epoch: 2 Train Loss: 0.0454 Acc: 48.132 (6788/14103)
Epoch Train Time: 2m 4s
5.001940727233887
User 6
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0764 Acc: 32.953 (4420/13413)
Local Epoch: 2 Train Loss: 0.0686 Acc: 37.180 (4987/13413)
Epoch Train Time: 1m 58s
10.144360542297363
User 25
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1002 Acc: 25.524 (3116/12208)
Local Epoch: 2 Train Loss: 0.0897 Acc: 28.301 (3455/12208)
Epoch Train Time: 1m 46s
7.952762126922607
Validation Loss: 0.0911 Acc: 34.690 (4849/13978)
Epoch Validation Time: 1m 5s
Num_bad_epochs: 0, unconstrainedBadEpochs: 0, bestMetric: 0.6530977249964229, currentThreshold: 0.6400357704964945
Epoch 5/99 - Task: vqa
----------
User 26
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1139 Acc: 25.603 (3110/12147)
Local Epoch: 2 Train Loss: 0.1043 Acc: 28.023 (3404/12147)
Epoch Train Time: 1m 44s
10.597858428955078
User 20
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0744 Acc: 32.696 (4259/13026)
Local Epoch: 2 Train Loss: 0.0684 Acc: 34.969 (4555/13026)
Epoch Train Time: 2m 15s
21.17913818359375
User 1
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0481 Acc: 45.194 (6159/13628)
Local Epoch: 2 Train Loss: 0.0422 Acc: 48.540 (6615/13628)
Epoch Train Time: 1m 59s
5.0241546630859375
Validation Loss: 0.0869 Acc: 34.441 (4809/13963)
Epoch Validation Time: 1m 10s
Num_bad_epochs: 1, unconstrainedBadEpochs: 1, bestMetric: 0.6530977249964229, currentThreshold: 0.6400357704964945
Epoch 6/99 - Task: vqa
----------
User 20
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0664 Acc: 35.383 (4609/13026)
Local Epoch: 2 Train Loss: 0.0628 Acc: 37.226 (4849/13026)
Epoch Train Time: 1m 55s
22.615541458129883
User 5
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0705 Acc: 34.853 (4664/13382)
Local Epoch: 2 Train Loss: 0.0646 Acc: 37.341 (4997/13382)
Epoch Train Time: 1m 52s
9.58184814453125
User 10
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0690 Acc: 35.726 (4774/13363)
Local Epoch: 2 Train Loss: 0.0633 Acc: 39.093 (5224/13363)
Epoch Train Time: 1m 52s
7.1959967613220215
Validation Loss: 0.0829 Acc: 36.213 (5039/13915)
Epoch Validation Time: 1m 5s
Num_bad_epochs: 0, unconstrainedBadEpochs: 0, bestMetric: 0.6378727991376213, currentThreshold: 0.6251153431548688
Epoch 7/99 - Task: cifar100
----------
User 3
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0852 Acc: 28.914 (482/1667)
Local Epoch: 2 Train Loss: 0.0938 Acc: 27.594 (460/1667)
Epoch Train Time: 0m 11s
32.243980407714844
User 29
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0932 Acc: 27.551 (459/1666)
Local Epoch: 2 Train Loss: 0.0999 Acc: 25.090 (418/1666)
Epoch Train Time: 0m 11s
44.75105667114258
User 14
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0860 Acc: 30.834 (514/1667)
Local Epoch: 2 Train Loss: 0.0938 Acc: 26.695 (445/1667)
Epoch Train Time: 0m 11s
38.394622802734375
Validation Loss: 0.0728 Acc: 38.290 (3829/10000)
Epoch Validation Time: 0m 31s
Epoch 8/99 - Task: vqa
----------
User 26
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.1032 Acc: 27.217 (3306/12147)
Local Epoch: 2 Train Loss: 0.0952 Acc: 30.386 (3691/12147)
Epoch Train Time: 1m 42s
6.765121936798096
User 7
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0681 Acc: 35.693 (4750/13308)
Local Epoch: 2 Train Loss: 0.0627 Acc: 38.556 (5131/13308)
Epoch Train Time: 1m 52s
9.103050231933594
User 10
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0658 Acc: 36.616 (4893/13363)
Local Epoch: 2 Train Loss: 0.0613 Acc: 39.347 (5258/13363)
Epoch Train Time: 1m 49s
9.605416297912598
Validation Loss: 0.0848 Acc: 35.399 (4936/13944)
Epoch Validation Time: 1m 9s
Num_bad_epochs: 1, unconstrainedBadEpochs: 1, bestMetric: 0.6378727991376213, currentThreshold: 0.6251153431548688
Epoch 9/99 - Task: cifar100
----------
User 18
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0929 Acc: 26.935 (449/1667)
Local Epoch: 2 Train Loss: 0.1107 Acc: 20.516 (342/1667)
Epoch Train Time: 0m 11s
41.11634063720703
User 22
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0950 Acc: 26.411 (440/1666)
Local Epoch: 2 Train Loss: 0.1110 Acc: 20.468 (341/1666)
Epoch Train Time: 0m 11s
79.60604095458984
User 5
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0902 Acc: 28.434 (474/1667)
Local Epoch: 2 Train Loss: 0.1055 Acc: 21.656 (361/1667)
Epoch Train Time: 0m 11s
52.1855583190918
Validation Loss: 0.0799 Acc: 32.400 (3240/10000)
Epoch Validation Time: 0m 31s
Epoch 10/99 - Task: vqa
----------
User 20
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0622 Acc: 36.773 (4790/13026)
Local Epoch: 2 Train Loss: 0.0584 Acc: 39.045 (5086/13026)
Epoch Train Time: 2m 9s
57.29954528808594
User 24
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0855 Acc: 28.785 (3510/12194)
Local Epoch: 2 Train Loss: 0.0775 Acc: 31.762 (3873/12194)
Epoch Train Time: 2m 8s
72.64442443847656
User 22
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0684 Acc: 33.433 (4347/13002)
Local Epoch: 2 Train Loss: 0.0629 Acc: 36.141 (4699/13002)
Epoch Train Time: 2m 24s
11.581782341003418
Validation Loss: 0.0813 Acc: 36.137 (5022/13897)
Epoch Validation Time: 1m 21s
Num_bad_epochs: 2, unconstrainedBadEpochs: 2, bestMetric: 0.6378727991376213, currentThreshold: 0.6251153431548688
Epoch 11/99 - Task: vqa
----------
User 16
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0725 Acc: 34.333 (4417/12865)
Local Epoch: 2 Train Loss: 0.0655 Acc: 37.342 (4804/12865)
Epoch Train Time: 2m 7s
60.57758331298828
User 8
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0657 Acc: 36.139 (4830/13365)
Local Epoch: 2 Train Loss: 0.0606 Acc: 38.406 (5133/13365)
Epoch Train Time: 2m 2s
8.76281452178955
User 27
lr: 1 0.01
Local Epoch: 1 Train Loss: 0.0858 Acc: 28.059 (3343/11914)
Local Epoch: 2 Train Loss: 0.0761 Acc: 31.895 (3800/11914)
Epoch Train Time: 1m 43s
27.87520980834961
Validation Loss: 0.0782 Acc: 36.489 (5107/13996)
Epoch Validation Time: 1m 18s
Num_bad_epochs: 3, unconstrainedBadEpochs: 3, bestMetric: 0.6378727991376213, currentThreshold: 0.6251153431548688

